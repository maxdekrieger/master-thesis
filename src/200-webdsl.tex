% !TEX root = document.tex

\chapter{\label{chap:webdsl}WebDSL}

  In this chapter, we describe WebDSL. WebDSL is a domain-specific language for developing web applications. The language incorporates ideas from various web programming frameworks and produces code for all tiers in a web application \autocite{Groenewegen2020}. Ever since its introduction over 10 years ago \autocite{Visser07}, WebDSL has been the subject of many published papers (cite some papers here) and on top of that, is the programming language underpinning several applications used daily by thousands of users. Examples of WebDSL applications include but are not limited to:
  \begin{itemize}
    \item \textbf{WebLab}: An online learning management system, used by the Delft University of Technology.
    \item \textbf{conf.researchr.org}: A domain-specific content management system for conferences, used by all ACM SIGPLAN and SIGSOFT conferences.
    \item \textbf{researchr.org}: A platform for finding, collecting, sharing, and reviewing scientific computer science related publications.
  \end{itemize}

  The rest of this chapter showcases the different aspects of WebDSL and zooms in on its non-trivial features. First, in section () we will describe how WebDSL offers functionality for creating web user interfaces. Next, in section () we illustrate how the langauge manages data models. Thirdly, section () contains information about WebDSL's solution for access control and in section () we highlight interesting aspects of its general-purpose object oriented function code. We concluse this chapter by going in detail about WebDSL's current implementation in section ().

  \section{User Interfaces}

    \begin{itemize}
      \item Syntax
      \item Data binding and action code
      \item Template overriding
      \item Template overloading
      \item Dynamically scoped redefines
    \end{itemize}

  \section{Data Model}

    \begin{itemize}
      \item Syntax
      \item Inheritance
      \item Extending entities
    \end{itemize}

  \section{Access Control}

    \begin{itemize}
      \item Syntax
      \item Inferred visibility
      \item Nested rules
      \item Pointcuts
    \end{itemize}

  \section{Functions}

    \begin{itemize}
      \item Syntax
      \item Entities as classes
      \item Hooks for entity setters
      \item Extending functions
    \end{itemize}

  \section{Current Implementation}

    \subsection{Spoofax Language Workbench}

      \begin{itemize}
        \item History
        \item Goal
        \item Achievements
      \end{itemize}

    \subsection{Current Implementation of WebDSL}

      \begin{itemize}
        \item Large Stratego specification where desugaring, static analysis, optimization and code-generation are interleaved (exaggeration?)
        \item Side effects using dynamic rules.
        \item Unexpected consequences of changes due to limited static analysis in untyped setting.
      \end{itemize}

      Go over some interesting WebDSL features and how they are implemented:
      \begin{itemize}
        \item Access control
        \item Template overloading and overriding
        \item Entity extension
      \end{itemize}

  \section{Modernization goal}

    \begin{itemize}
      \item A complete and maintainable SDF3 and Statix specification of WebDSL.
      \item Gather insight into the capabilities, elegance and performance of SDF3 and Statix.
      \item (Incrementalization for free leveraging the parallel Statix solver)
    \end{itemize}
